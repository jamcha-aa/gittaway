(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{211:function(t,s){t.exports="data:image/png;base64,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"},212:function(t,s,a){t.exports=a.p+"assets/img/account-settings.ca1cf754.png"},213:function(t,s,a){t.exports=a.p+"assets/img/developer-settings.d73fce3f.png"},214:function(t,s,a){t.exports=a.p+"assets/img/generate-tokens.d767876d.png"},215:function(t,s,a){t.exports=a.p+"assets/img/paste-token.1c21b391.png"},216:function(t,s,a){t.exports=a.p+"assets/img/travis-launched.667fe717.png"},217:function(t,s,a){t.exports=a.p+"assets/img/travis-progress.c48150d4.png"},218:function(t,s,a){t.exports=a.p+"assets/img/travis-stopped.a6b0089f.png"},219:function(t,s,a){t.exports=a.p+"assets/img/travis-log.0807a82e.png"},220:function(t,s,a){t.exports=a.p+"assets/img/fix-yml.1c03d691.png"},221:function(t,s,a){t.exports=a.p+"assets/img/travis-success.38c470e2.png"},222:function(t,s,a){t.exports=a.p+"assets/img/travis-delete.fa2719d4.png"},223:function(t,s,a){t.exports=a.p+"assets/img/Tessa-pride-4.49f04b06.png"},230:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_04-陽気な仲間"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_04-陽気な仲間","aria-hidden":"true"}},[t._v("#")]),t._v(" 04 - 陽気な仲間")]),t._v(" "),n("p",[t._v("「CI (継続的インテグレーション) って開発手法を指すらしいんだけど、とりあえずここではCIを補助するサービスの話をします」"),n("br"),t._v("\n『ああ』"),n("br"),t._v("\n「パソコンで作業してるといずれ『あの黒い画面』を触るときが来ると思う。でもたいていの人は汚物を見るように避けるか、どうしてもやらなきゃいけないときはお金を払うか誰かの家族を人質にしてやらせてると思う」"),n("br"),t._v("\n『殺伐としすぎだろ…』"),n("br"),t._v("\n「したがって『あの黒い画面』を触らずに済む方法が必要で、その解決策のひとつとして私はCIサービスを提案します」"),n("br"),t._v("\n『ほー』"),n("br"),t._v("\n「CIサービスはどこまで『あの黒い画面』を肩代わりしてくれるのか、それを確かめたかったので、今回はこの作品を『あの黒い画面』を一切触らずに作ってみようと思いました」")]),t._v(" "),n("ul",[n("li",[n("p",[n("code",[t._v(".travis.yml")]),t._v(" と "),n("code",[t._v("package.json")]),t._v(" の引用元:")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://itnext.io/publish-a-vuepress-site-on-github-pages-with-travis-82036243bf36",target:"_blank",rel:"noopener noreferrer"}},[t._v("Publish a Vuepress site on GitHub pages with Travis"),n("OutboundLink")],1)])])]),t._v(" "),n("li",[n("p",[t._v("参考にしたページ:")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://qiita.com/uphy/items/26ea2862b75c6c6e703d",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePressでGitHub Pagesにリッチなドキュメントを作る"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://alvinmi.github.io/2019/03/22/Github+Vuepress+Travis-CI%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github + Vuepress + Travis-CI"),n("OutboundLink")],1)])])])]),t._v(" "),n("h2",{attrs:{id:"下準備"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下準備","aria-hidden":"true"}},[t._v("#")]),t._v(" 下準備")]),t._v(" "),n("p",[t._v("「今回は『あの黒い画面』での作業を "),n("a",{attrs:{href:"https://travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis CI"),n("OutboundLink")],1),t._v(" にお願いしました。理由はTravisおじさんがプリングルズみたいなものすごいひげで、あともう一人いるんだけどその人の唇が寒中水泳の…」"),n("br"),t._v("\n『マスコットのインパクトにやられたんだな。まったく君は、 "),n("a",{attrs:{href:"https://docusaurus.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docusaurus"),n("OutboundLink")],1),t._v(" の恐竜といい、そういう…』"),n("br"),t._v("\n「恐竜じゃなくて 『"),n("a",{attrs:{href:"https://docusaurus.io/en/about-slash",target:"_blank",rel:"noopener noreferrer"}},[t._v("Slash"),n("OutboundLink")],1),t._v("』 だよ、『Slash』。君さ、失礼じゃない？友達とか家族のこと『人間』なんて呼ぶ？呼ばないでしょ？」"),n("br"),t._v("\n『…』「Slash。聞こえた？」"),n("br"),t._v("\n『ああ。…(ひげをからかうのは失礼じゃないのか？)』"),n("br"),t._v("\n「からかってるんじゃなくてひげがすごいって言ってるだけなんだけど！？」『あ、ああ。そうだな…何か、からかうより失礼だと思うんだが…』")]),t._v(" "),n("br"),t._v(" "),n("p",[t._v("「基本的なファイル構成はふだん私が使っているテンプレートから引っ張ってきて、 "),n("code",[t._v(".travis.yml")]),t._v(" と "),n("code",[t._v("package.json")]),t._v(" だけ追加した感じ」")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("user@manjaro-arm travisci"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ tree -al -I "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('".git"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n├── .gitignore\n├── .nojekyll\n├── .travis.yml\n├── .vuepress\n│   ├── config.js\n│   ├── public\n│   │   ├── hero.png\n│   │   └── img\n│   │       └── favicon.png\n│   ├── styles\n│   │   └── palette.styl\n│   └── summary.js\n├── README.md\n├── article\n│   ├── 01.md\n│   └── 01.org\n└── package.json\n")])])]),n("p",[t._v("「 "),n("code",[t._v("package.json")]),t._v(" は引用元そのままで、」")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"docs:dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress dev docs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"docs:build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress build docs"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("「 "),n("code",[t._v(".travis.yml")]),t._v(" は私の環境にあわせてちょっといじった」")]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" CXX=g++"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.8")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addons")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sources")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolchain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("test\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("packages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" g++"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.8")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm install "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g vuepress@next\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm run docs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directories")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("notifications")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("email")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pages\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("skip-cleanup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("local_dir")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /.vuepress/dist\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("github-token")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $GITHUB_TOKEN  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set in the settings page of your repository, as a secure variable")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("repo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jamcha"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("aa/travisci\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keep-history")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target-branch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master\n")])])]),n("h2",{attrs:{id:"githubトークン"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#githubトークン","aria-hidden":"true"}},[t._v("#")]),t._v(" GitHubトークン")]),t._v(" "),n("p",[t._v("「それじゃあ早速動かしてみようか」『もう動かせるのか』「あと少しね。 "),n("a",{attrs:{href:"https://travis-ci.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis CI"),n("OutboundLink")],1),t._v(" にGitHubアカウントでログインすると、リポジトリの一覧が表示されます。リポジトリ名の隣にあるスイッチを切り替えて、Settingsをクリックすると下のあたりに『トークン取ってこい』と書かれているので取りに行く」")]),t._v(" "),n("p",[n("img",{attrs:{src:a(211),alt:"travis-toggle"}})]),t._v(" "),n("p",[t._v("「GitHubアカウントのSettingを選んで一番下にある "),n("code",[t._v("Developer settings")]),t._v(" を選択」")]),t._v(" "),n("p",[n("img",{attrs:{src:a(212),alt:"account-settings"}})]),t._v(" "),n("p",[t._v("「 "),n("code",[t._v("Personal access tokens")]),t._v(" → "),n("code",[t._v("Generate new tokens")]),t._v(" を選択」")]),t._v(" "),n("p",[n("img",{attrs:{src:a(213),alt:"developer-settings"}})]),t._v(" "),n("p",[t._v("「トークンの名前と権限を決める。下の画像は一旦作ったあとにスクリーンショット撮ってるから警告画面が出てるけど、初めて作るときには出ない。Travisおじさんの権限は "),n("code",[t._v("repo_deployment")]),t._v(" と "),n("code",[t._v("public_repo")]),t._v(" くらいでいいかな」")]),t._v(" "),n("p",[n("img",{attrs:{src:a(214),alt:"generate-tokens"}})]),t._v(" "),n("p",[t._v("「準備ができたら "),n("code",[t._v("Generate token")]),t._v(" をクリックする。トークンが発行されるから、この文字列をTravisのSettings画面にある "),n("code",[t._v("Environment Variables")]),t._v(" のパスワード欄にコピペする。 変数名は "),n("code",[t._v("GITHUB_TOKEN")]),t._v(" で、それが済んだら "),n("code",[t._v("Add")]),t._v(" をクリック。…あ！大事なこと忘れてた！」"),n("br"),t._v("\n『ん？』"),n("br"),t._v("\n「発行画面にも英語で書かれてるけど "),n("strong",[t._v("トークンは一度しか表示されない")]),t._v(" 」"),n("br"),t._v("\n『一度だけか？』　　\n「そう。タブを閉じたらGitHubの設定画面を開いても再表示されない。それくらい漏れたら危険なもの。ペーストしたらすぐクリップボードの履歴も消しましょう」")]),t._v(" "),n("p",[n("img",{attrs:{src:a(215),alt:"paste-token"}})]),t._v(" "),n("p",[t._v("備考: "),n("a",{attrs:{href:"https://efcl.info/2017/05/09/travis-ci-github-token/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis CIでGitHub Personal access tokensが漏れないようにする"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"travisおじさん、起動"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#travisおじさん、起動","aria-hidden":"true"}},[t._v("#")]),t._v(" Travisおじさん、起動")]),t._v(" "),n("p",[n("img",{attrs:{src:a(216),alt:"travis-launched"}})]),t._v(" "),n("p",[t._v("「ウオオオオオオオオオオオオオオオオオ！！」")]),t._v(" "),n("p",[t._v("『な、何だ突然！？』")]),t._v(" "),n("p",[n("img",{attrs:{src:a(217),alt:"travis-progress"}})]),t._v(" "),n("p",[t._v("「YAML語の指示を解したTravisおじさんが仕事を開始しました。ログが流れていく様子がかっこいい。あとオープンソースプロジェクトなら、YAML語で話しかければTravisおじさんは無償のボランティアのように働いてくれます。健気すぎて涙が出てきそう」"),n("br"),t._v("\n『そ、そうか…うーむ、だからって君が叫ぶ必要があるのか？それにさっきから言ってるYAML語って何だ？』"),n("br"),t._v("\n「YAML語はTravisおじさん達が使う言語。 "),n("code",[t._v(".travis.yml")]),t._v(" に書いてある言葉。単にYAMLとも言う」"),n("br"),t._v("\n『YAML語って呼ぶ意味は？YAMLでいいだろう』"),n("br"),t._v("\n「TravisおじさんはYAML語じゃないとわからない、って強く言わないと、手軽にタダで使える労働力だと勘違いするバカが出てくる」"),n("br"),t._v("\n『おっと、言葉に気をつけろ。まったく、随分な言いようだな。たとえば？』"),n("br"),t._v("\n「私とか」"),n("br"),t._v("\n『…。うーん、どう言ったものやら…。…ほら、君が言ったとおり止まったぞ』")]),t._v(" "),n("p",[n("img",{attrs:{src:a(218),alt:"travis-stopped"}})]),t._v(" "),n("p",[t._v("「それみたことか」"),n("br"),t._v("\n『それみたことかって…YAML語とやらを書いたのは君だろ？』"),n("br"),t._v("\n「そうですけど？」"),n("br"),t._v("\n『開き直るのはいいから、原因は何だ』"),n("br"),t._v("\n「これから調べるんですけど何か？」"),n("br"),t._v("\n『…』")]),t._v(" "),n("p",[n("img",{attrs:{src:a(219),alt:"travis-log"}})]),t._v(" "),n("p",[t._v("『どうだ？わかりそうか？』"),n("br"),t._v("\n「たぶん…、あ、ディレクトリの場所が違ってたんだ」"),n("br"),t._v("\n『YAML語の文法間違いってところか』"),n("br"),t._v("\n「そうそう。Travisおじさんには正しい言葉遣いじゃないと通じないからね」")]),t._v(" "),n("p",[n("img",{attrs:{src:a(220),alt:"fix-yml"}})]),t._v(" "),n("h2",{attrs:{id:"travisおじさん、指示どおりに-master-ブランチを灰燼に帰す"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#travisおじさん、指示どおりに-master-ブランチを灰燼に帰す","aria-hidden":"true"}},[t._v("#")]),t._v(" Travisおじさん、指示どおりに "),n("code",[t._v("master")]),t._v(" ブランチを灰燼に帰す")]),t._v(" "),n("p",[n("img",{attrs:{src:a(221),alt:"travis-success"}})]),t._v(" "),n("p",[t._v("『今度は成功したようだな』"),n("br"),t._v("\n「うん。…あれ？」"),n("br"),t._v("\n『ん？どうした？』"),n("br"),t._v("\n「 "),n("code",[t._v("master")]),t._v(" ブランチの中身が全部消えてる」"),n("br"),t._v("\n『へ？』")]),t._v(" "),n("p",[n("img",{attrs:{src:a(222),alt:"travis-delete"}})]),t._v(" "),n("p",[t._v("『どういうことだ？成功したんだろ？』"),n("br"),t._v("\n「うん。たぶん…むしろ、ちゃんと伝わっちゃったせいで全部消されたんだと思う」"),n("br"),t._v("\n『意味がわからない』"),n("br"),t._v("\n「わかれよ！！」")]),t._v(" "),n("p",[t._v("ドン！")]),t._v(" "),n("p",[t._v("『…』"),n("br"),t._v("\n「…」"),n("br"),t._v("\n『…すまない。ショックだったのは君だよな』"),n("br"),t._v("\n「…こっちこそごめんね。はー…」")]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target-branch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master\n")])])]),n("p",[t._v("「あー…そうか。私のYAML語は文法的にはあってて、でも仕事の結果を "),n("code",[t._v("master")]),t._v(" ブランチに上書きするものになっちゃってたのか…」"),n("br"),t._v("\n『直せそうか？』"),n("br"),t._v("\n「原因はわかったよ。ここをこうすれば」")]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target-branch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n")])])]),n("p",[t._v("「これでTravisおじさんは私のねらいどおりに働いてくれると思う」"),n("br"),t._v("\n『じゃあやってみるか』"),n("br"),t._v("\n「うん。 "),n("code",[t._v("revert")]),t._v(" でGitコマンドを使わなきゃいけないから、当初の目的は失敗だけど、でもファイルのアップロードは全部GitHubの画面からやってるよ」"),n("br"),t._v("\n『手間じゃないのか』"),n("br"),t._v("\n「そりゃあもうものすごく面倒だよ」"),n("br"),t._v("\n『だろうな…』"),n("br"),t._v("\n「アップロードに失敗したり、気を抜くとすぐ "),n("code",[t._v("master")]),t._v(" ブランチに戻るから間違えてアップロードしちゃったりして、やっぱブラウザの画面ておまけなんだなって思い知らされました」")]),t._v(" "),n("h2",{attrs:{id:"travis-yml-を修正"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#travis-yml-を修正","aria-hidden":"true"}},[t._v("#")]),t._v(" "),n("code",[t._v(".travis.yml")]),t._v(" を修正")]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" CXX=g++"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.8")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addons")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sources")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolchain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("test\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("packages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" g++"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.8")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm install "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g vuepress@next\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm run docs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directories")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("notifications")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("email")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pages\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("skip-cleanup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("local_dir")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .vuepress/dist  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ビルドされたファイルが置かれる場所")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("github-token")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $GITHUB_TOKEN  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set in the settings page of your repository, as a secure variable")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("repo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jamcha"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("aa/travisci  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# リポジトリ名")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keep-history")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target-branch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 出力されるブランチ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# このブランチの中身がtarget-branchに出力される")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(223),alt:"Tessa"}}),t._v("\n(c) Travis CI, GmbH.")]),t._v(" "),n("p",[t._v("『おわっ！』"),n("br"),t._v("\n「ん？」"),n("br"),t._v("\n『なんだ今のは？Travisは一人じゃないのか！？』"),n("br"),t._v("\n「え、Tessaのこと？」"),n("br"),t._v("\n『Travisじゃないのか』"),n("br"),t._v("\n「Travisはものすごいひげの方だよ。Tessaはかわいい方。唇がまるで寒中水泳…」"),n("br"),t._v("\n『いや、言いたいことはわかった』"),n("br"),t._v("\n「でしょ。かわいいよね」"),n("br"),t._v("\n『いや、そういうわけじゃないんだが…まあ、それはともかく、結果はどうだ？』"),n("br"),t._v("\n「君が見ているこれがそうだよ」")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("p",[t._v("-- 了 --")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v("  \nこの物語はフィクションであり，実在の人物・団体とは一切関係ありません。  \n"),n("p",[t._v("(c) 2019 jamcha (jamcha.aa@gmail.com).")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://i.creativecommons.org/l/by-sa/4.0/88x31.png",alt:"cc by-sa"}})])])},[],!1,null,null,null);s.default=e.exports}}]);